# MySQL xtrabackup recovery for Zabbix DB

Копируем файлы из бекапа в папку /var/lib/mysql (250Гб ~ 25м)
Запускаем - time xtrabackup --decompress --remove-original --target-dir=/var/lib/mysql (~30м)
Запускаем - time xtrabackup --prepare --target-dir=/var/lib/mysql (~10-25м)
chown mysql:mysql /var/lib/mysql -R
service mariadb start
Выясняем номер лог файла и позицию - cat xtrabackup_binlog_pos_innodb
mysql -u root
mysql> CHANGE MASTER TO MASTER_HOST='xx.xx.xx.xx', MASTER_USER='repl', MASTER_PASSWORD='zYh8lpe7Kd',MASTER_LOG_FILE = 'mysql-bin.xxxxxxxx', MASTER_LOG_POS = yyyyyyyy;
mysql> start slave;
mysql> show slave status\G;
Смотреть на параметр - Seconds_Behind_Master