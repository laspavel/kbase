# chronyd справочник

## Установка:
```
#RPM
dnf install chrony &&  systemctl enable --now chronyd.service

#Debian
apt install chrony &&  systemctl enable --now chronyd.service
```

## Настройка:

```
#RPM: /etc/chrony.conf
server 10.0.0.1
server 0.ua.pool.ntp.org
server 1.ua.pool.ntp.org
server 2.ua.pool.ntp.org
server 3.ua.pool.ntp.org


#Debian: /etc/chrony/chrony.conf
pool 10.0.0.1
pool 0.ua.pool.ntp.org
pool 1.ua.pool.ntp.org
pool 2.ua.pool.ntp.org
pool 3.ua.pool.ntp.org
```

## Управление

Статус:

```
chronyc tracking
```

* Reference ID — идентификатор и имя сервера, с которым компьютер в настоящее время синхронизирован;
* Stratum — количество переходов к серверу с установленными эталонными часами;
* Ref time — время по Гринвичу, в которое было выполнено последнее измерение из эталонного источника;
* System time — задержка системных часов от синхронизированного сервера;
* Last offset — расчетное смещение последнего обновления часов;
* RMS offset — долгосрочное среднее арифметическое значения смещения;
* Frequency — частота, на которой часы системы будут работать неправильно, если хронограф не проведет коррекцию. Она выражена в ppm — ч/м (частей на миллион);
* Residual freq — остаточная частота указывает на разницу между измерениями от опорного источника и используемой в настоящее время частотой;
* Skew — расчетная погрешность, связанная с погрешностью частоты;
* Root delay — суммарная задержка сетевого пути к опорному серверу, с которым синхронизируется компьютер;
* Leap status — статус скачка (изменения) времени, который может иметь одно из следующих значений:
** «Normal» – означает нормальную корректировку времени;
**  «Insert second» – означает, что произведена корректировка времени добавлением дополнительной секунды в последнюю минуту текущего месяца;
**  «Delete second» – означает, что произведена корректировка времени удалением дополнительной секунды из последней минуты текущего месяца;
** «Not synchronised» – означает, что компьютер в данный момент времени не синхронизирован.

Источники: 
```
chronyc sources
```

Статистика каждого источника:
```
chronyc sourcestats
```

Выключить/Включить синхронизацию, проверка статуса:

```
chronyc offline
chronyc online
chronyc activity
```
